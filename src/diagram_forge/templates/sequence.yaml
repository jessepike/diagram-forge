name: sequence
display_name: "Sequence Diagram"
description: "UML-style sequence diagram showing interactions between participants over time"
version: "2.0"
supports:
  - sequence
  - interaction
  - protocol

style_defaults:
  background: "white"
  font: "bold sans-serif"
  corners: "slightly rounded"
  borders: "dark gray (#555555)"
  aspect_ratio: "9:16"

color_system:
  description: "Colors distinguish participant types"
  palette:
    actor: "#D5D8DC (light gray, border #ABB2B9)"
    internal_service: "#AED6F1 (light blue, border #5DADE2)"
    external_service: "#FDEBD0 (light orange, border #F0B27A)"
    database: "#A9DFBF (light green, border #58D68D)"

prompt_template: |
  Create a UML-style sequence diagram showing interactions over time.

  CRITICAL RENDERING INSTRUCTIONS:
  - Flat 2D technical diagram — NO shadows, NO gradients, NO 3D effects
  - All text must be LARGE, bold, sans-serif — title 24pt, participant labels 18pt, messages 12pt
  - Participants shown as labeled boxes at the top with vertical dashed lifelines
  - Messages as horizontal arrows between lifelines, labeled above the arrow
  - Time flows top-to-bottom
  - Activation boxes (thin rectangles) on lifelines during active processing
  - Generous vertical spacing between messages (minimum 30px)
  - Solid arrows for synchronous calls, dashed arrows for returns
  - {style_defaults_block}

  COLOR SYSTEM (participant box colors):
  {color_system_block}

  TITLE: {title}

  PARTICIPANTS (left to right):
  {participants_block}

  INTERACTIONS (top to bottom, in time order):
  {interactions_block}

  NOTES:
  {notes_block}

  LEGEND (bottom-right):
  {legend_block}

  LAYOUT RULES:
  - Participants arranged left to right at the top
  - Dashed vertical lifelines extend downward from each participant
  - Self-calls shown as arrows looping back to the same lifeline
  - Notes shown as rectangles with folded corners, connected by dashed lines
  - All text horizontal and readable — message labels never overlap
  - Number interactions sequentially

  All text crystal clear and perfectly legible. Clean technical diagram.
  {aspect_ratio} aspect ratio. {resolution} resolution.

variables:
  title: "Required. Sequence diagram title."
  participants_block: "Required. Participant definitions with types."
  interactions_block: "Required. Ordered list of interactions between participants."
  notes_block: "Optional. Additional notes or annotations."
  legend_block: "Optional. Auto-generated from color_system if not provided."
